import{C as w,o as n,c as p,a as e,t as d,d as k,n as S,Z as T,z as a,k as u,F as f,s as j,m as C}from"./app-sxmKPskq.js";import{H as B,F as P}from"./Footer-B_50z3Ql.js";import{g as m,t as l}from"./utilities-C5P9uAkL.js";import{P as I}from"./PrimaryCustomButton-BiAcJe8T.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-Bqu6smUF.js";const H={name:"Ticket",components:{PrimaryCustomButton:I},props:{id:{type:Number,required:!0},title:{type:String,default:"default title"},photo:{type:String,default:""},price:{type:String,default:"default price"},description:{type:String,default:"default description"},color:{type:String,default:"black"},index:{type:String,default:null},stripeItemPrice:String},computed:{user(){return this.$page.props.auth.user}},methods:{getImgPath:m,async addToShoppingList(){try{const s=await w.post("/addtocart",{stripe_item_price:this.stripeItemPrice});s.data.message=="cart updated"?l("Billet ajouté à votre panier.","success"):s.data.message=="cart created"?l("Billet ajouté à votre panier.","success"):s.data.message=="user not logged in"?l("Vous devez vous connecter pour ajouter un billet au panier.","info"):l("Erreur lors de l'ajout du billet","error")}catch(s){l("Erreur lors de l'enregistrement du billet","error"),console.error(s)}}}},F={class:"font-bold text-xl"},V=["src"],E=["name"];function L(s,i,t,h,g,r){return n(),p("article",{class:S(`flex flex-col gap-2 rounded-lg items-center shadow-lg shadow-${t.color}-500/50 p-10`)},[e("h3",F,"Offre "+d(t.title),1),e("img",{src:r.getImgPath(t.photo),alt:"photo de l'offre",class:"rounded-lg w-96 h-44 object-cover"},null,8,V),e("p",null,d(t.description),1),e("p",null,d(t.price)+"€",1),e("form",{onSubmit:i[0]||(i[0]=k((...c)=>r.addToShoppingList&&r.addToShoppingList(...c),["prevent"]))},[e("button",{class:"bg-amber-200 p-4 rounded-sm hover:bg-amber-400 transition ease-in-out duration-300",type:"submit",name:`ticket-button-${t.index}`}," Réserver ce billet ",8,E)],32)],2)}const N=_(H,[["render",L]]),O={name:"Tickets",components:{Header:B,Footer:P,Head:T,TicketCard:N},props:{tickets:{type:Array,required:!1,default:[]},ticketlist:{type:Array,default:[]}},data(){return{}},methods:{getImgPath:m,scrollToOffers(){document.getElementById("billets").scrollIntoView({behavior:"smooth"})}}},q={class:"h-fit w-full overflow-hidden"},z={class:"h-screen w-full relative"},A=e("img",{src:"../../public/assets/stade-de-france.jpg",alt:"Drapeau des jeux olympiques de Paris 2024",class:"object-cover h-full w-full"},null,-1),D={class:"absolute top-3/4 w-full flex justify-center"},$={class:"h-fit"},M={id:"billets",class:"flex justify-center w-screen py-16 overflow-hidden"},R={class:"w-4/5 md:w-3/5 flex flex-col gap-8"},Z=e("h2",{class:"text-4xl"},"Nos offres d'entrées",-1),G={class:"border-t-black border-t py-8 flex flex-col md:flex-row md:justify-between w-full gap-10"};function J(s,i,t,h,g,r){const c=a("Head"),b=a("Header"),x=a("TicketCard"),y=a("Footer");return n(),p(f,null,[u(c,{title:"Billets"}),e("div",q,[e("div",z,[u(b,{ticketsCount:t.ticketlist?t.ticketlist.length:0},null,8,["ticketsCount"]),A,e("div",D,[e("button",{class:"bg-amber-200 w-1/3 p-4 rounded-full hover:bg-amber-400 transition ease-in-out duration-300",onClick:i[0]||(i[0]=(...o)=>r.scrollToOffers&&r.scrollToOffers(...o))},"Voir toutes nos offres")])]),e("main",$,[e("section",M,[e("div",R,[Z,e("div",G,[(n(!0),p(f,null,j(t.tickets,(o,v)=>(n(),C(x,{id:o.id,title:o.title,photo:o.photo,price:o.price,description:o.description,color:o.color,stripeItemPrice:o.stripe_item_price,index:v},null,8,["id","title","photo","price","description","color","stripeItemPrice","index"]))),256))])])])]),u(y)])],64)}const ee=_(O,[["render",J]]);export{ee as default};

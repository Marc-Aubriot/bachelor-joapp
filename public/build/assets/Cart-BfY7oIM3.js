import{_ as y,F as b}from"./Footer-CrX9HqKk.js";import{p as v,o as i,e as l,a as t,t as a,n as P,Z as k,q as c,b as d,F as u,h as q,c as S}from"./app-UteQ5zXf.js";import{g as $,t as m}from"./utilities-BHm2kHJN.js";import{P as C}from"./PrimaryCustomButton-B3RIUDLE.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as j}from"./ResponsiveNavLink-VJw1vho5.js";const B={name:"Ticket",components:{PrimaryCustomButton:C},props:{id:{type:Number,required:!0},title:{type:String,default:"default title"},photo:{type:String,default:""},price:{type:String,default:"default price"},description:{type:String,default:"default description"},color:{type:String,default:"black"},quantity:{type:String,default:1},stripeItemPrice:String},computed:{user(){return this.$page.props.auth.user}},methods:{getImgPath:$,async addToShoppingList(){try{const o=await v.post("/addtocart",{stripe_item_price:this.stripeItemPrice});m("Billet enregistré.","success")}catch(o){m("Erreur lors de l'enregistrement du illet","error"),console.error(o)}}}},F={class:"flex w-fit gap-10"},H={class:"flex flex-col w-fit gap-10"},I=["src"],M={class:"flex flex-col w-fit gap-4"},T={class:"font-bold text-md"},A={class:"flex flex-col w-fit gap-4"},N=t("h3",{class:"font-bold text-md"},"Coût total",-1),V=t("div",{class:"flex flex-col w-fit gap-4"},[t("h3",{class:"font-bold text-md"},"Modifier ma commande"),t("p",null,"- + Valider"),t("p",null,"Supprimer commande")],-1);function L(o,r,e,f,_,n){return i(),l("article",{class:P(`flex flex-col mb-5 md:flex-row gap-2 w-80 md:w-full md:gap-10 rounded-lg justify-between shadow-lg shadow-${e.color}-500/50 md:h-40 p-2 md:p-10`)},[t("div",F,[t("div",H,[t("img",{src:n.getImgPath(e.photo),alt:"photo de l'offre",class:"rounded-lg w-32 h-32 object-cover"},null,8,I)]),t("div",M,[t("h3",T,"Offre "+a(e.title),1),t("p",null,a(e.description),1),t("p",null,"Prix unitaire: "+a(e.price)+" €",1)])]),t("div",A,[N,t("p",null,"Quantité: "+a(e.quantity),1),t("p",null,"Prix total: "+a(e.quantity*e.price)+" €",1)]),V],2)}const D=p(B,[["render",L]]),E={name:"Cart",components:{Header:y,Footer:b,Head:k,TicketCardMini:D,ResponsiveNavLink:j},props:{cart:Object,ticketlist:Array},computed:{user(){return this.$page.props.auth.user},totalAmount(){let o=0;for(let r=0;r<this.ticketlist.length;r++)o=o+this.ticketlist[r].quantity*this.ticketlist[r].price;return o}}},O={class:"h-fit w-full overflow-hidden"},z={class:"h-screen w-full relative"},Q=t("img",{src:"../../public/assets/st-quentin.jpg",alt:"Drapeau des jeux olympiques de Paris 2024",class:"object-cover h-full w-full"},null,-1),R={class:"absolute gap-4 md:p-0 p-2 top-36 md:top-1/4 w-full md:h-screen flex flex-col items-center md:items-start md:flex-row md:justify-evenly"},Z={key:0,class:"w-full md:w-4/6 md:h-4/6 md:p-10 rounded-xl flex flex-col bg-white"},G=t("h1",{class:"text-xl font-bold p-2"},"Mon panier",-1),J={class:"flex w-96 md:w-full h-96 flex-col items-center md:items-start gap-2 overflow-y-scroll mb-2 md:pr-6"},K={key:1,class:"w-3/4 h-fit md:w-3/6 p-10 rounded-xl flex flex-col items-center gap-6 bg-white"},U=t("h1",{class:"text-xl font-bold"},"Votre panier est vide",-1),W=[U],X={key:2,class:"w-full h-52 md:h-4/6 md:w-1/6 p-10 rounded-xl flex flex-col gap-6 bg-white"},Y=t("h2",{class:"text-xl font-bold"},"Ma facture",-1),tt=["href"],et={key:3,class:"w-3/4 h-fit md:w-1/6 p-10 rounded-xl flex flex-col gap-6 bg-white"},ot=t("h2",{class:"text-xl font-bold"},"Aucune facture",-1),st=[ot];function it(o,r,e,f,_,n){const h=c("Head"),x=c("Header"),g=c("TicketCardMini"),w=c("Footer");return i(),l(u,null,[d(h,{title:"Panier"}),t("div",O,[t("div",z,[d(x),Q,t("main",R,[e.cart!=null?(i(),l("div",Z,[G,t("div",J,[(i(!0),l(u,null,q(e.ticketlist,(s,lt)=>(i(),S(g,{id:s.id,title:s.title,photo:s.photo,price:s.price,description:s.description,color:s.color,stripeItemPrice:s.stripe_item_price,quantity:s.quantity},null,8,["id","title","photo","price","description","color","stripeItemPrice","quantity"]))),256))])])):(i(),l("div",K,W)),e.cart!=null?(i(),l("div",X,[Y,t("div",null,[t("p",null,"Total: "+a(n.totalAmount),1)]),t("a",{class:"bg-amber-200 p-4 rounded-sm hover:bg-amber-400 transition ease-in-out duration-300",href:`/cart/${n.user.id}/checkout/${e.cart.id}`}," Payer ma commande ",8,tt)])):(i(),l("div",et,st))])]),d(w)])],64)}const mt=p(E,[["render",it]]);export{mt as default};

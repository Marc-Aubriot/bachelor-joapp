import{C as _,o,c as r,a as t,t as l,n as m,z as h,F as g,s as y,m as x}from"./app-sxmKPskq.js";import{g as w,t as c}from"./utilities-C5P9uAkL.js";import{P as C}from"./PrimaryCustomButton-BiAcJe8T.js";import{_ as a}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={name:"Ticket",components:{PrimaryCustomButton:C},props:{id:{type:Number,required:!0},title:{type:String,default:"default title"},photo:{type:String,default:""},price:{type:String,default:"default price"},description:{type:String,default:"default description"},color:{type:String,default:"black"},quantity:{type:Number,default:1},qrCode:{type:Object,default:{}},dateUsed:{type:String,default:null},stripeItemPrice:String},computed:{user(){return this.$page.props.auth.user}},methods:{getImgPath:w,async addToShoppingList(){try{const i=await _.post("/addtocart",{stripe_item_price:this.stripeItemPrice});c("Billet enregistré.","success")}catch(i){c("Erreur lors de l'enregistrement du illet","error"),console.error(i)}}}},b={class:"flex w-fit gap-10"},k={class:"flex flex-col w-fit gap-10"},v=["src"],S={class:"flex flex-col w-fit gap-4"},P={class:"font-bold text-md"},U={key:0},B={key:1},T={class:"flex flex-col w-fit gap-4"},I=t("h3",{class:"font-bold text-md"},"Billet",-1),N={key:0},$={key:1},j={key:2},Q={key:3},z={class:"flex flex-col items-center w-full md:w-fit gap-4"},E=["src"];function F(i,n,e,p,u,d){return o(),r("article",{class:m(`flex flex-col mb-5 md:flex-row gap-2 w-80 md:w-full md:gap-10 rounded-lg justify-between shadow-lg shadow-${e.color}-500/50 md:h-40 p-2 md:p-10`)},[t("div",b,[t("div",k,[t("img",{src:d.getImgPath(e.photo),alt:"photo de l'offre",class:"rounded-lg w-32 h-32 object-cover"},null,8,v)]),t("div",S,[t("h3",P,"Offre "+l(e.title),1),t("p",null,l(e.description),1),e.dateUsed!=null?(o(),r("p",U,"--")):(o(),r("p",B,"Non utilisé"))])]),t("div",T,[I,e.dateUsed!=null?(o(),r("p",N,"Utilisé le :")):(o(),r("p",$,"--")),e.dateUsed!=null?(o(),r("p",j,l(e.dateUsed.substring(0,10)),1)):(o(),r("p",Q,"--"))]),t("div",z,[t("img",{src:`${e.qrCode[1]}`,alt:"",class:"qrcode"},null,8,E)])],2)}const L=a(q,[["render",F]]),M={name:"MyTickets",components:{TicketCardQr:L},props:{tickets:{type:Array,default:[]}},mounted(){console.log(this.tickets)},data(){return{}},methods:{}},O={class:"flex flex-col items-center h-fit w-full"},A={class:"w-full md:w-4/5 h-fit"};function D(i,n,e,p,u,d){const f=h("TicketCardQr");return o(),r("div",O,[t("div",A,[(o(!0),r(g,null,y(e.tickets,(s,V)=>(o(),x(f,{id:s.id,title:s.title,photo:s.photo,price:s.price,description:s.description,color:s.color,stripeItemPrice:s.stripe_item_price,quantity:s.quantity,qrCode:s.qrCode,dateUsed:s.date_used},null,8,["id","title","photo","price","description","color","stripeItemPrice","quantity","qrCode","dateUsed"]))),256))])])}const R=a(M,[["render",D]]);export{R as default};
